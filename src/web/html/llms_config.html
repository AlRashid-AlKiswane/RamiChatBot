<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Apply Model Configuration</title>
  <link rel="stylesheet" href="/src/web/assets/css/llms_config.css" />
</head>
<body>
  <div class="container">
    <h2>Apply Model Configuration</h2>

    <label for="load_type">Load Type:</label>
    <select id="load_type">
      <option value="HF">HF</option>
      <option value="lCPP">lCPP</option>
    </select>

    <form id="modelForm">
      <!-- HF Model Fields -->
      <div id="hf-fields">
        <label for="model_name">Model Name:</label>
        <select name="model_name" id="model_name">
          <option value="meta-llama/Llama-3.2-1B">meta-llama/Llama-3.2-1B</option>
          <option value="meta-llama/Llama-3.2-3B">meta-llama/Llama-3.2-3B</option>
          <option value="meta-llama/Meta-Llama-3-8B">meta-llama/Meta-Llama-3-8B</option>
          <option value="meta-llama/Llama-2-13b">meta-llama/Llama-2-13b</option>
        </select>

        <div class="two-column">
          <div class="column">
            <label for="max_new_tokens">Max New Tokens: <span id="max_tokens_val">128</span></label>
            <input type="range" id="max_new_tokens" name="max_new_tokens" min="1" max="4096" value="128" oninput="max_tokens_val.innerText = this.value" />

            <label for="temperature">Temperature: <span id="temperature_val">0.7</span></label>
            <input type="range" id="temperature" name="temperature" min="0" max="1" step="0.01" value="0.7" oninput="temperature_val.innerText = this.value" />
          </div>
          <div class="column">
            <label for="top_p">Top P: <span id="top_p_val">0.95</span></label>
            <input type="range" id="top_p" name="top_p" min="0" max="1" step="0.01" value="0.95" oninput="top_p_val.innerText = this.value" />

            <label for="top_k">Top K: <span id="top_k_val">50</span></label>
            <input type="range" id="top_k" name="top_k" min="0" max="1000" value="50" oninput="top_k_val.innerText = this.value" />
          </div>
        </div>

        <label><input type="checkbox" id="trust_remote_code" /> Trust Remote Code</label>
        <label><input type="checkbox" id="do_sample" /> Do Sample</label>

        <label for="quantization">Quantization:</label>
        <select id="quantization">
          <option value="none">None</option>
          <option value="4-bit">4-bit</option>
          <option value="8-bit">8-bit</option>
        </select>
      </div>

      <!-- lCPP Model Fields -->
      <div id="cpp-fields" style="display: none;">
        <label for="repo_id">Repo ID:</label>
        <input type="text" id="repo_id" value="TheBloke/Llama-2-7B-Chat-GGUF" />

        <label for="filename">Filename:</label>
        <input type="text" id="filename" value="llama-2-7b-chat.Q2_K.gguf" />

        <label for="n_ctx">Context Size:</label>
        <input type="number" id="n_ctx" value="128" />

        <label for="n_threads">Threads:</label>
        <input type="number" id="n_threads" value="4" />

        <label for="seed">Seed:</label>
        <input type="number" id="seed" value="42" />

        <label for="n_gpus">GPUs:</label>
        <input type="number" id="n_gpus" value="-1" />

        <label><input type="checkbox" id="verbose" checked /> Verbose</label>

        <label for="max_tokens">Max Tokens:</label>
        <input type="number" id="max_tokens" value="128" />

        <label for="cpp_temperature">Temperature:</label>
        <input type="number" id="cpp_temperature" step="0.1" value="0.7" />

        <label for="cpp_top_p">Top P:</label>
        <input type="number" id="cpp_top_p" step="0.01" value="0.95" />

        <label><input type="checkbox" id="echo" /> Echo</label>

        <label for="stop">Stop Sequences (comma-separated):</label>
        <input type="text" id="stop" placeholder="e.g. </s>,<pad>" />
      </div>

      <button type="submit">Apply</button>
    </form>

    <div id="successMessage" class="success-message"></div>
  </div>

  <script src="/src/web/assets/js/llms_config.js"></script>
</body>
</html>
